{"ast":null,"code":"import { useEffect, useLayoutEffect, useRef } from 'react';\nexport function useEventListener(eventName, handler, element, options) {\n  var savedHandler = useRef(handler);\n  useLayoutEffect(function () {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(function () {\n    var targetElement = element?.current || window;\n    if (!(targetElement && targetElement.addEventListener)) return;\n\n    var eventListener = function eventListener(event) {\n      return savedHandler.current(event);\n    };\n\n    targetElement.addEventListener(eventName, eventListener, options);\n    return function () {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element, options]);\n}","map":{"version":3,"names":["useEffect","useLayoutEffect","useRef","useEventListener","eventName","handler","element","options","savedHandler","current","targetElement","window","addEventListener","eventListener","event","removeEventListener"],"sources":["/home/user/Documents/coding/projects/todofeito-app/src/hooks/useEventListener.ts"],"sourcesContent":["import { RefObject, useEffect, useLayoutEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\nexport function useEventListener<K extends keyof WindowEventMap>(\n  eventName: K,\n  handler: (event: WindowEventMap[K]) => void,\n  element?: undefined,\n  options?: boolean | AddEventListenerOptions\n): void;\n\nexport function useEventListener<\n  K extends keyof HTMLElementEventMap,\n  T extends HTMLElement = HTMLDivElement\n>(\n  eventName: K,\n  handler: (event: HTMLElementEventMap[K]) => void,\n  element: RefObject<T>,\n  options?: boolean | AddEventListenerOptions\n): void;\n\nexport function useEventListener<K extends keyof DocumentEventMap>(\n  eventName: K,\n  handler: (event: DocumentEventMap[K]) => void,\n  element: RefObject<Document>,\n  options?: boolean | AddEventListenerOptions\n): void;\n\nexport function useEventListener<\n  KW extends keyof WindowEventMap,\n  KH extends keyof HTMLElementEventMap,\n  T extends HTMLElement | void = void\n>(\n  eventName: KH | KW,\n  handler: (event: WindowEventMap[KW] | HTMLElementEventMap[KH] | Event) => void,\n  element?: React.RefObject<T>,\n  options?: boolean | AddEventListenerOptions\n) {\n  const savedHandler = useRef(handler);\n\n  useLayoutEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const targetElement: T | Window = element?.current || window;\n\n    if (!(targetElement && targetElement.addEventListener)) return;\n\n    const eventListener: typeof handler = (event) => savedHandler.current(event);\n\n    targetElement.addEventListener(eventName, eventListener, options);\n\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element, options]);\n}\n"],"mappings":"AAAA,SAAoBA,SAApB,EAA+BC,eAA/B,EAAgDC,MAAhD,QAA8D,OAA9D;AA2BA,OAAO,SAASC,gBAAT,CAKLC,SALK,EAMLC,OANK,EAOLC,OAPK,EAQLC,OARK,EASL;EACA,IAAMC,YAAY,GAAGN,MAAM,CAACG,OAAD,CAA3B;EAEAJ,eAAe,CAAC,YAAM;IACpBO,YAAY,CAACC,OAAb,GAAuBJ,OAAvB;EACD,CAFc,EAEZ,CAACA,OAAD,CAFY,CAAf;EAIAL,SAAS,CAAC,YAAM;IACd,IAAMU,aAAyB,GAAGJ,OAAO,EAAEG,OAAT,IAAoBE,MAAtD;IAEA,IAAI,EAAED,aAAa,IAAIA,aAAa,CAACE,gBAAjC,CAAJ,EAAwD;;IAExD,IAAMC,aAA6B,GAAG,SAAhCA,aAAgC,CAACC,KAAD;MAAA,OAAWN,YAAY,CAACC,OAAb,CAAqBK,KAArB,CAAX;IAAA,CAAtC;;IAEAJ,aAAa,CAACE,gBAAd,CAA+BR,SAA/B,EAA0CS,aAA1C,EAAyDN,OAAzD;IAEA,OAAO,YAAM;MACXG,aAAa,CAACK,mBAAd,CAAkCX,SAAlC,EAA6CS,aAA7C;IACD,CAFD;EAGD,CAZQ,EAYN,CAACT,SAAD,EAAYE,OAAZ,EAAqBC,OAArB,CAZM,CAAT;AAaD"},"metadata":{},"sourceType":"module"}
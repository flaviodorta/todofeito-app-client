{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport { useState, useRef, useEffect } from 'react';\nexport function useDimensions() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  // setting default values\n  const liveMeasure = true;\n  const delay = 250;\n  const initialDimensions = {};\n  const [dimensions, setDimensions] = useState(initialDimensions); // const [node, setNode] = useState<T | null>(null);\n  // let ref: null | ((newNode: T) => void) = useCallback(\n  //   (newNode: T) => {\n  //     setNode(newNode);\n  //   },\n  //   [node]\n  // );\n  // const ref = useRef<T | null>(null) as MutableRefObject<T | null>;\n  // const [node, setNode] = useState<Ref<T> | null>(null);\n  // const ref = useRef<T | null>(null);\n\n  let ref = null;\n\n  const createRef = refEl => {\n    _s();\n\n    // setNode(refEl);\n    ref = useRef(refEl);\n  };\n\n  _s(createRef, \"J9pzIsEOVEZ74gjFtMkCj+5Po7s=\");\n\n  useEffect(() => {\n    console.log(ref);\n  }, [ref]); // useLayoutEffect(() => {\n  //   ref = node;\n  // }, [node, setNode])\n\n  console.log(ref.current); // useLayoutEffect(() => {\n  //   console.log('render: usDimensions');\n  //   if (!ref.current) {\n  //     return;\n  //   }\n  // const measure = () => {\n  //   window.requestAnimationFrame(() => {\n  //     const newDimensions = ref.current ? ref.current.getBoundingClientRect() : {};\n  //     setDimensions(newDimensions);\n  //   });\n  // };\n  // measure();\n  // if (liveMeasure && ref.current) {\n  //   const debounceMeasure = debounce(measure, delay);\n  //   if ('ResizeObserver' in window) {\n  //     const resizeObserver = new ResizeObserver(debounceMeasure);\n  //     resizeObserver.observe(ref.current);\n  //     window.addEventListener('scroll', debounceMeasure);\n  //     return () => {\n  //       resizeObserver.disconnect();\n  //       window.removeEventListener('scroll', debounceMeasure);\n  //     };\n  //   }\n  //   window.addEventListener('resize', debounceMeasure);\n  //   window.addEventListener('scroll', debounceMeasure);\n  //   return () => {\n  //     window.removeEventListener('resize', debounceMeasure);\n  //     window.addEventListener('scroll', debounceMeasure);\n  //   };\n  // }\n  // }, [ref.current, liveMeasure]);\n\n  return [ref, dimensions];\n}\n\n_s2(useDimensions, \"jRQap4e2Mrgr1UcE8ro5NMBDNp0=\");","map":{"version":3,"names":["useState","useRef","useEffect","useDimensions","liveMeasure","delay","initialDimensions","dimensions","setDimensions","ref","createRef","refEl","console","log","current"],"sources":["/home/user/Documents/coding/projects/todofeito-app/src/hooks/useDimensions.tsx"],"sourcesContent":["import { useState, useRef, useLayoutEffect, useCallback, MutableRefObject, useEffect } from 'react';\nimport { debounce } from '../utils/debounce';\n\nexport function useDimensions<T extends HTMLElement>() {\n  // setting default values\n  const liveMeasure = true;\n  const delay = 250;\n  const initialDimensions = {};\n\n  const [dimensions, setDimensions] = useState(initialDimensions);\n  // const [node, setNode] = useState<T | null>(null);\n\n  // let ref: null | ((newNode: T) => void) = useCallback(\n  //   (newNode: T) => {\n  //     setNode(newNode);\n  //   },\n  //   [node]\n  // );\n\n  // const ref = useRef<T | null>(null) as MutableRefObject<T | null>;\n\n  // const [node, setNode] = useState<Ref<T> | null>(null);\n\n  // const ref = useRef<T | null>(null);\n\n  type Ref<T> = ((instance: T | null) => void) | React.RefObject<T> | null | undefined;\n\n  let ref: MutableRefObject<Ref<T>> | null = null;\n\n  const createRef = (refEl: Ref<T>) => {\n    // setNode(refEl);\n    ref = useRef(refEl);\n  };\n\n  useEffect(() => {\n    console.log(ref);\n  }, [ref]);\n\n  // useLayoutEffect(() => {\n  //   ref = node;\n  // }, [node, setNode])\n\n  console.log(ref.current);\n  // useLayoutEffect(() => {\n  //   console.log('render: usDimensions');\n  //   if (!ref.current) {\n  //     return;\n  //   }\n\n  // const measure = () => {\n  //   window.requestAnimationFrame(() => {\n  //     const newDimensions = ref.current ? ref.current.getBoundingClientRect() : {};\n  //     setDimensions(newDimensions);\n  //   });\n  // };\n\n  // measure();\n\n  // if (liveMeasure && ref.current) {\n  //   const debounceMeasure = debounce(measure, delay);\n\n  //   if ('ResizeObserver' in window) {\n  //     const resizeObserver = new ResizeObserver(debounceMeasure);\n  //     resizeObserver.observe(ref.current);\n  //     window.addEventListener('scroll', debounceMeasure);\n\n  //     return () => {\n  //       resizeObserver.disconnect();\n  //       window.removeEventListener('scroll', debounceMeasure);\n  //     };\n  //   }\n  //   window.addEventListener('resize', debounceMeasure);\n  //   window.addEventListener('scroll', debounceMeasure);\n\n  //   return () => {\n  //     window.removeEventListener('resize', debounceMeasure);\n  //     window.addEventListener('scroll', debounceMeasure);\n  //   };\n  // }\n  // }, [ref.current, liveMeasure]);\n\n  return [ref, dimensions];\n}\n"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,MAAnB,EAA2EC,SAA3E,QAA4F,OAA5F;AAGA,OAAO,SAASC,aAAT,GAAgD;EAAA;;EAAA;;EACrD;EACA,MAAMC,WAAW,GAAG,IAApB;EACA,MAAMC,KAAK,GAAG,GAAd;EACA,MAAMC,iBAAiB,GAAG,EAA1B;EAEA,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BR,QAAQ,CAACM,iBAAD,CAA5C,CANqD,CAOrD;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA;EAEA;;EAIA,IAAIG,GAAoC,GAAG,IAA3C;;EAEA,MAAMC,SAAS,GAAIC,KAAD,IAAmB;IAAA;;IACnC;IACAF,GAAG,GAAGR,MAAM,CAACU,KAAD,CAAZ;EACD,CAHD;;EA1BqD,GA0B/CD,SA1B+C;;EA+BrDR,SAAS,CAAC,MAAM;IACdU,OAAO,CAACC,GAAR,CAAYJ,GAAZ;EACD,CAFQ,EAEN,CAACA,GAAD,CAFM,CAAT,CA/BqD,CAmCrD;EACA;EACA;;EAEAG,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,OAAhB,EAvCqD,CAwCrD;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EAEA;EAEA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA,OAAO,CAACL,GAAD,EAAMF,UAAN,CAAP;AACD;;IA/EeJ,a"},"metadata":{},"sourceType":"module"}
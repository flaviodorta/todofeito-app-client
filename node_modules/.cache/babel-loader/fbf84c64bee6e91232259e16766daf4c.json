{"ast":null,"code":"var _s2 = $RefreshSig$();\n\nimport { useLayoutEffect, useState } from 'react';\nimport { usePersistedState } from './usePersistedState';\nexport function useResize(props) {\n  _s2();\n\n  const [element, setElement] = useState(null);\n  const [top, setTop] = useState(null);\n  const [right, setRight] = useState(null);\n  const [bottom, setBottom] = useState(null);\n  const [left, setLeft] = useState(null);\n  const limits = props ? props.limits : undefined;\n  const elementIdByClassName = element === null || element === void 0 ? void 0 : element.className;\n  console.log(elementIdByClassName);\n  console.log(element, top, right, bottom, left);\n  useLayoutEffect(() => {\n    if (element && (top || right || bottom || left)) {\n      var _s = $RefreshSig$();\n\n      console.log('use layout effect');\n      const resizeableElement = element;\n      const styles = window.getComputedStyle(resizeableElement);\n      let width = parseInt(styles.width, 10);\n      let widthPx;\n      let height = parseInt(styles.height, 10);\n      let heightPx;\n      let x = 0;\n      let y = 0; // Right resize\n\n      const onMouseMoveRightResize = event => {\n        _s();\n\n        // testing foo working\n        console.log('move');\n        const dx = event.clientX - x;\n        x = event.clientX;\n        width = width + dx;\n        widthPx = `${width}px`;\n\n        if (!props) {\n          resizeableElement.style.width = widthPx;\n        } else if (limits && limits.right) {\n          if (limits.right.max && limits.right.min) {\n            if (width > limits.right.min && width < limits.right.max) resizeableElement.style.width = widthPx;\n          } else if (limits.right.max) {\n            if (width < limits.right.max) resizeableElement.style.width = widthPx;\n          } else if (limits.right.min) {\n            if (width > limits.right.min) resizeableElement.style.width = widthPx;\n          }\n        }\n\n        if (elementIdByClassName) {\n          usePersistedState(elementIdByClassName, widthPx);\n        }\n      };\n\n      _s(onMouseMoveRightResize, \"yrCtgCB4ASLACCmBhXOsE1pXsI8=\", false, function () {\n        return [usePersistedState];\n      });\n\n      const onMouseUpRightResize = event => {\n        document.removeEventListener('mousemove', onMouseMoveRightResize);\n      };\n\n      const onMouseDownRightResize = event => {\n        x = event.clientX;\n        resizeableElement.style.left = styles.left;\n        resizeableElement.style.right = 'auto';\n        document.addEventListener('mousemove', onMouseMoveRightResize);\n        document.addEventListener('mouseup', onMouseUpRightResize);\n      };\n\n      const resizerRight = right;\n      resizerRight === null || resizerRight === void 0 ? void 0 : resizerRight.addEventListener('mousedown', onMouseDownRightResize);\n      return () => {\n        resizerRight === null || resizerRight === void 0 ? void 0 : resizerRight.removeEventListener('mousedown', onMouseDownRightResize);\n      };\n    }\n  }, [element, top, right, bottom, left]);\n  const ref = {\n    element: setElement,\n    top: setTop,\n    right: setRight,\n    bottom: setBottom,\n    left: setLeft\n  };\n  return {\n    ref\n  };\n}\n\n_s2(useResize, \"XQ+d1iTQvmPDnWSx1QnDnq1X1Mo=\");","map":{"version":3,"names":["useLayoutEffect","useState","usePersistedState","useResize","props","element","setElement","top","setTop","right","setRight","bottom","setBottom","left","setLeft","limits","undefined","elementIdByClassName","className","console","log","resizeableElement","styles","window","getComputedStyle","width","parseInt","widthPx","height","heightPx","x","y","onMouseMoveRightResize","event","dx","clientX","style","max","min","onMouseUpRightResize","document","removeEventListener","onMouseDownRightResize","addEventListener","resizerRight","ref"],"sources":["/home/user/Documents/coding/projects/todofeito-app/src/hooks/useResize.ts"],"sourcesContent":["import { useLayoutEffect, useEffect, useRef, useState } from 'react';\nimport { usePersistedState } from './usePersistedState';\n\ninterface SizeLimit {\n  min?: number;\n  max?: number;\n}\n\ninterface UseResizeProps {\n  limits: {\n    top?: SizeLimit;\n    right?: SizeLimit;\n    bottom?: SizeLimit;\n    left?: SizeLimit;\n  };\n}\n\ninterface UseResizeResponse<T> {\n  ref: {\n    element: React.Dispatch<React.SetStateAction<T | null>>;\n    top: React.Dispatch<React.SetStateAction<T | null>>;\n    right: React.Dispatch<React.SetStateAction<T | null>>;\n    bottom: React.Dispatch<React.SetStateAction<T | null>>;\n    left: React.Dispatch<React.SetStateAction<T | null>>;\n  };\n}\n\nexport function useResize<T extends HTMLElement>(\n  props?: UseResizeProps\n): UseResizeResponse<T> {\n  const [element, setElement] = useState<T | null>(null);\n  const [top, setTop] = useState<T | null>(null);\n  const [right, setRight] = useState<T | null>(null);\n  const [bottom, setBottom] = useState<T | null>(null);\n  const [left, setLeft] = useState<T | null>(null);\n\n  const limits = props ? props.limits : undefined;\n\n  const elementIdByClassName = element?.className;\n\n  console.log(elementIdByClassName);\n\n  console.log(element, top, right, bottom, left);\n\n  useLayoutEffect(() => {\n    if (element && (top || right || bottom || left)) {\n      console.log('use layout effect');\n\n      const resizeableElement = element;\n      const styles = window.getComputedStyle(resizeableElement);\n      let width = parseInt(styles.width, 10);\n      let widthPx: string;\n      let height = parseInt(styles.height, 10);\n      let heightPx: string;\n      let x = 0;\n      let y = 0;\n\n      // Right resize\n      const onMouseMoveRightResize = (event: MouseEvent) => {\n        // testing foo working\n        console.log('move');\n\n        const dx = event.clientX - x;\n        x = event.clientX;\n        width = width + dx;\n        widthPx = `${width}px`;\n\n        if (!props) {\n          resizeableElement.style.width = widthPx;\n        } else if (limits && limits.right) {\n          if (limits.right.max && limits.right.min) {\n            if (width > limits.right.min && width < limits.right.max)\n              resizeableElement.style.width = widthPx;\n          } else if (limits.right.max) {\n            if (width < limits.right.max)\n              resizeableElement.style.width = widthPx;\n          } else if (limits.right.min) {\n            if (width > limits.right.min)\n              resizeableElement.style.width = widthPx;\n          }\n        }\n\n        if (elementIdByClassName) {\n          usePersistedState(elementIdByClassName, widthPx);\n        }\n      };\n\n      const onMouseUpRightResize = (event: MouseEvent) => {\n        document.removeEventListener('mousemove', onMouseMoveRightResize);\n      };\n\n      const onMouseDownRightResize = (event: MouseEvent) => {\n        x = event.clientX;\n        resizeableElement.style.left = styles.left;\n        resizeableElement.style.right = 'auto';\n        document.addEventListener('mousemove', onMouseMoveRightResize);\n        document.addEventListener('mouseup', onMouseUpRightResize);\n      };\n\n      const resizerRight = right;\n      resizerRight?.addEventListener('mousedown', onMouseDownRightResize);\n\n      return () => {\n        resizerRight?.removeEventListener('mousedown', onMouseDownRightResize);\n      };\n    }\n  }, [element, top, right, bottom, left]);\n\n  const ref = {\n    element: setElement,\n    top: setTop,\n    right: setRight,\n    bottom: setBottom,\n    left: setLeft,\n  };\n\n  return { ref };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
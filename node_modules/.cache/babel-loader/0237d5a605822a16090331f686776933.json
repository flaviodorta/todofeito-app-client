{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useRef } from 'react';\nexport function useLocalStorage() {\n  _s();\n\n  const keyRef = useRef('');\n  const valueRef = useRef('');\n\n  const getValue = () => {\n    if (typeof window === 'undefined') {\n      return null;\n    }\n\n    try {\n      const item = window.localStorage.getItem(keyRef.current);\n      return item ? JSON.parse(item) : null;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${keyRef.current}\": `, error);\n      return null;\n    }\n  };\n\n  const setValue = (key, value) => {\n    keyRef.current = key;\n    window.localStorage.setItem(key, value);\n  };\n\n  return [getValue, setValue];\n}\n\n_s(useLocalStorage, \"nsu+reeVJjO9oVBflFfZhXNN6n8=\");","map":{"version":3,"names":["useRef","useLocalStorage","keyRef","valueRef","getValue","window","item","localStorage","getItem","current","JSON","parse","error","console","warn","setValue","key","value","setItem"],"sources":["/home/user/Documents/coding/projects/todofeito-app/src/hooks/useLocalStorage.ts"],"sourcesContent":["import { useCallback, useEffect, useState, useRef } from 'react';\n\nimport { useEventListener } from './useEventListener';\n\ntype Value<T> = T | null;\n\ntype Return<T> = [() => Value<T>, (key: string, value: string) => void];\n\nexport function useLocalStorage<T>(): Return<T> {\n  const keyRef = useRef<string>('');\n  const valueRef = useRef<string>('');\n\n  const getValue = (): Value<T> => {\n    if (typeof window === 'undefined') {\n      return null;\n    }\n\n    try {\n      const item = window.localStorage.getItem(keyRef.current);\n      return item ? (JSON.parse(item) as T) : null;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \"${keyRef.current}\": `, error);\n      return null;\n    }\n  };\n\n  const setValue = (key: string, value: string) => {\n    keyRef.current = key;\n    window.localStorage.setItem(key, value);\n  };\n\n  return [getValue, setValue];\n}\n"],"mappings":";;AAAA,SAA2CA,MAA3C,QAAyD,OAAzD;AAQA,OAAO,SAASC,eAAT,GAAyC;EAAA;;EAC9C,MAAMC,MAAM,GAAGF,MAAM,CAAS,EAAT,CAArB;EACA,MAAMG,QAAQ,GAAGH,MAAM,CAAS,EAAT,CAAvB;;EAEA,MAAMI,QAAQ,GAAG,MAAgB;IAC/B,IAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;MACjC,OAAO,IAAP;IACD;;IAED,IAAI;MACF,MAAMC,IAAI,GAAGD,MAAM,CAACE,YAAP,CAAoBC,OAApB,CAA4BN,MAAM,CAACO,OAAnC,CAAb;MACA,OAAOH,IAAI,GAAII,IAAI,CAACC,KAAL,CAAWL,IAAX,CAAJ,GAA6B,IAAxC;IACD,CAHD,CAGE,OAAOM,KAAP,EAAc;MACdC,OAAO,CAACC,IAAR,CAAc,mCAAkCZ,MAAM,CAACO,OAAQ,KAA/D,EAAqEG,KAArE;MACA,OAAO,IAAP;IACD;EACF,CAZD;;EAcA,MAAMG,QAAQ,GAAG,CAACC,GAAD,EAAcC,KAAd,KAAgC;IAC/Cf,MAAM,CAACO,OAAP,GAAiBO,GAAjB;IACAX,MAAM,CAACE,YAAP,CAAoBW,OAApB,CAA4BF,GAA5B,EAAiCC,KAAjC;EACD,CAHD;;EAKA,OAAO,CAACb,QAAD,EAAWW,QAAX,CAAP;AACD;;GAxBed,e"},"metadata":{},"sourceType":"module"}
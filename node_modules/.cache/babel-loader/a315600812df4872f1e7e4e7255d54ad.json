{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useLayoutEffect, useState } from 'react';\nexport function useResize(props) {\n  _s();\n\n  // const refElement = useRef<T>();\n  // const refTop = useRef<T>();\n  // const refRight = useRef<T>();\n  // const refBottom = useRef<T>();\n  // const refLeft = useRef<T>();\n  const [element, setElement] = useState(null);\n  const [top, setTop] = useState(null);\n  const [right, setRight] = useState(null);\n  const [bottom, setBottom] = useState(null);\n  const [left, setLeft] = useState(null);\n  console.log(element, right);\n  useLayoutEffect(() => {\n    if (element && (top || right || bottom || left)) {\n      const resizeableElement = element;\n      const styles = window.getComputedStyle(resizeableElement);\n      let width = parseInt(styles.width, 10);\n      let heihgt = parseInt(styles.height, 10);\n      let x = 0;\n      let y = 0; // Right resize\n\n      const onMouseMoveRightResize = (event, limit) => {\n        // testing foo working\n        console.log('move');\n        const dx = event.clientX - x;\n        x = event.clientX;\n        width = width + dx;\n        resizeableElement.style.width = `${width}px`;\n      };\n\n      const onMouseUpRightResize = event => {\n        document.removeEventListener('mousemove', onMouseMoveRightResize);\n      };\n\n      const onMouseDownRightResize = event => {\n        x = event.clientX;\n        resizeableElement.style.left = styles.left;\n        resizeableElement.style.right = 'auto';\n        document.addEventListener('mousemove', onMouseMoveRightResize);\n        document.addEventListener('mouseup', onMouseUpRightResize);\n      };\n\n      const resizerRight = right;\n      resizerRight === null || resizerRight === void 0 ? void 0 : resizerRight.addEventListener('mousedown', onMouseDownRightResize);\n      return () => {\n        resizerRight === null || resizerRight === void 0 ? void 0 : resizerRight.removeEventListener('mousedown', onMouseDownRightResize);\n      };\n    }\n  }, []);\n  const ref = {\n    element: setElement,\n    right: setRight\n  };\n  return {\n    ref\n  };\n}\n\n_s(useResize, \"XQ+d1iTQvmPDnWSx1QnDnq1X1Mo=\");","map":{"version":3,"names":["useLayoutEffect","useState","useResize","props","element","setElement","top","setTop","right","setRight","bottom","setBottom","left","setLeft","console","log","resizeableElement","styles","window","getComputedStyle","width","parseInt","heihgt","height","x","y","onMouseMoveRightResize","event","limit","dx","clientX","style","onMouseUpRightResize","document","removeEventListener","onMouseDownRightResize","addEventListener","resizerRight","ref"],"sources":["/home/user/Documents/coding/projects/todofeito-app/src/hooks/useResize.ts"],"sourcesContent":["import { useLayoutEffect, useEffect, useRef, useState } from 'react';\n\ninterface Limit {\n  min: number;\n  max: number;\n}\n\ninterface UseResizeProps {\n  limits: {\n    top?: Limit;\n    right?: Limit;\n    bottom?: Limit;\n    left?: Limit;\n  };\n}\n\nexport function useResize<T extends HTMLElement>(props?: UseResizeProps) {\n  // const refElement = useRef<T>();\n  // const refTop = useRef<T>();\n  // const refRight = useRef<T>();\n  // const refBottom = useRef<T>();\n  // const refLeft = useRef<T>();\n\n  const [element, setElement] = useState<T | null>(null);\n  const [top, setTop] = useState<T | null>(null);\n  const [right, setRight] = useState<T | null>(null);\n  const [bottom, setBottom] = useState<T | null>(null);\n  const [left, setLeft] = useState<T | null>(null);\n\n  console.log(element, right);\n\n  useLayoutEffect(() => {\n    if (element && (top || right || bottom || left)) {\n      const resizeableElement = element;\n      const styles = window.getComputedStyle(resizeableElement);\n      let width = parseInt(styles.width, 10);\n      let heihgt = parseInt(styles.height, 10);\n      let x = 0;\n      let y = 0;\n\n      // Right resize\n      const onMouseMoveRightResize = (event: MouseEvent, limit?: Limit) => {\n        // testing foo working\n        console.log('move');\n\n        const dx = event.clientX - x;\n        x = event.clientX;\n        width = width + dx;\n        resizeableElement.style.width = `${width}px`;\n      };\n\n      const onMouseUpRightResize = (event: MouseEvent) => {\n        document.removeEventListener('mousemove', onMouseMoveRightResize);\n      };\n\n      const onMouseDownRightResize = (event: MouseEvent) => {\n        x = event.clientX;\n        resizeableElement.style.left = styles.left;\n        resizeableElement.style.right = 'auto';\n        document.addEventListener('mousemove', onMouseMoveRightResize);\n        document.addEventListener('mouseup', onMouseUpRightResize);\n      };\n\n      const resizerRight = right;\n      resizerRight?.addEventListener('mousedown', onMouseDownRightResize);\n\n      return () => {\n        resizerRight?.removeEventListener('mousedown', onMouseDownRightResize);\n      };\n    }\n  }, []);\n\n  const ref = {\n    element: setElement,\n    right: setRight,\n  };\n\n  return { ref };\n}\n"],"mappings":";;AAAA,SAASA,eAAT,EAA6CC,QAA7C,QAA6D,OAA7D;AAgBA,OAAO,SAASC,SAAT,CAA0CC,KAA1C,EAAkE;EAAA;;EACvE;EACA;EACA;EACA;EACA;EAEA,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBJ,QAAQ,CAAW,IAAX,CAAtC;EACA,MAAM,CAACK,GAAD,EAAMC,MAAN,IAAgBN,QAAQ,CAAW,IAAX,CAA9B;EACA,MAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAW,IAAX,CAAlC;EACA,MAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAW,IAAX,CAApC;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAW,IAAX,CAAhC;EAEAa,OAAO,CAACC,GAAR,CAAYX,OAAZ,EAAqBI,KAArB;EAEAR,eAAe,CAAC,MAAM;IACpB,IAAII,OAAO,KAAKE,GAAG,IAAIE,KAAP,IAAgBE,MAAhB,IAA0BE,IAA/B,CAAX,EAAiD;MAC/C,MAAMI,iBAAiB,GAAGZ,OAA1B;MACA,MAAMa,MAAM,GAAGC,MAAM,CAACC,gBAAP,CAAwBH,iBAAxB,CAAf;MACA,IAAII,KAAK,GAAGC,QAAQ,CAACJ,MAAM,CAACG,KAAR,EAAe,EAAf,CAApB;MACA,IAAIE,MAAM,GAAGD,QAAQ,CAACJ,MAAM,CAACM,MAAR,EAAgB,EAAhB,CAArB;MACA,IAAIC,CAAC,GAAG,CAAR;MACA,IAAIC,CAAC,GAAG,CAAR,CAN+C,CAQ/C;;MACA,MAAMC,sBAAsB,GAAG,CAACC,KAAD,EAAoBC,KAApB,KAAsC;QACnE;QACAd,OAAO,CAACC,GAAR,CAAY,MAAZ;QAEA,MAAMc,EAAE,GAAGF,KAAK,CAACG,OAAN,GAAgBN,CAA3B;QACAA,CAAC,GAAGG,KAAK,CAACG,OAAV;QACAV,KAAK,GAAGA,KAAK,GAAGS,EAAhB;QACAb,iBAAiB,CAACe,KAAlB,CAAwBX,KAAxB,GAAiC,GAAEA,KAAM,IAAzC;MACD,CARD;;MAUA,MAAMY,oBAAoB,GAAIL,KAAD,IAAuB;QAClDM,QAAQ,CAACC,mBAAT,CAA6B,WAA7B,EAA0CR,sBAA1C;MACD,CAFD;;MAIA,MAAMS,sBAAsB,GAAIR,KAAD,IAAuB;QACpDH,CAAC,GAAGG,KAAK,CAACG,OAAV;QACAd,iBAAiB,CAACe,KAAlB,CAAwBnB,IAAxB,GAA+BK,MAAM,CAACL,IAAtC;QACAI,iBAAiB,CAACe,KAAlB,CAAwBvB,KAAxB,GAAgC,MAAhC;QACAyB,QAAQ,CAACG,gBAAT,CAA0B,WAA1B,EAAuCV,sBAAvC;QACAO,QAAQ,CAACG,gBAAT,CAA0B,SAA1B,EAAqCJ,oBAArC;MACD,CAND;;MAQA,MAAMK,YAAY,GAAG7B,KAArB;MACA6B,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAED,gBAAd,CAA+B,WAA/B,EAA4CD,sBAA5C;MAEA,OAAO,MAAM;QACXE,YAAY,SAAZ,IAAAA,YAAY,WAAZ,YAAAA,YAAY,CAAEH,mBAAd,CAAkC,WAAlC,EAA+CC,sBAA/C;MACD,CAFD;IAGD;EACF,CAvCc,EAuCZ,EAvCY,CAAf;EAyCA,MAAMG,GAAG,GAAG;IACVlC,OAAO,EAAEC,UADC;IAEVG,KAAK,EAAEC;EAFG,CAAZ;EAKA,OAAO;IAAE6B;EAAF,CAAP;AACD;;GA9DepC,S"},"metadata":{},"sourceType":"module"}
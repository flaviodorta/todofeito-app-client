{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\nexport function useEventListener(eventName, handler, element, options) {\n  _s();\n\n  const savedHandler = useRef(handler);\n  console.log('Saved Handler:');\n  console.log(savedHandler);\n  console.log('Current:');\n  console.log(savedHandler.current);\n  useIsomorphicLayoutEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(() => {\n    const targetElement = (element === null || element === void 0 ? void 0 : element.current) || window;\n    if (!(targetElement && targetElement.addEventListener)) return;\n\n    const eventListener = event => savedHandler.current(event);\n\n    targetElement.addEventListener(eventName, eventListener, options);\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element, options]);\n}\n\n_s(useEventListener, \"EH916eH0EvCEeOm2Bl53TZGwYMg=\", false, function () {\n  return [useIsomorphicLayoutEffect];\n});","map":{"version":3,"names":["useEffect","useRef","useIsomorphicLayoutEffect","useEventListener","eventName","handler","element","options","savedHandler","console","log","current","targetElement","window","addEventListener","eventListener","event","removeEventListener"],"sources":["/home/user/Documents/coding/projects/todofeito-app/src/hooks/useEventListener.ts"],"sourcesContent":["import { RefObject, useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\nexport function useEventListener<K extends keyof WindowEventMap>(\n  eventName: K,\n  handler: (event: WindowEventMap[K]) => void,\n  element?: undefined,\n  options?: boolean | AddEventListenerOptions\n): void;\n\nexport function useEventListener<\n  K extends keyof HTMLElementEventMap,\n  T extends HTMLElement = HTMLDivElement\n>(\n  eventName: K,\n  handler: (event: HTMLElementEventMap[K]) => void,\n  element: RefObject<T>,\n  options?: boolean | AddEventListenerOptions\n): void;\n\nexport function useEventListener<K extends keyof DocumentEventMap>(\n  eventName: K,\n  handler: (event: DocumentEventMap[K]) => void,\n  element: RefObject<Document>,\n  options?: boolean | AddEventListenerOptions\n): void;\n\nexport function useEventListener<\n  KW extends keyof WindowEventMap,\n  KH extends keyof HTMLElementEventMap,\n  T extends HTMLElement | void = void\n>(\n  eventName: KH | KW,\n  handler: (\n    event: WindowEventMap[KW] | HTMLElementEventMap[KH] | Event\n  ) => void,\n  element?: RefObject<T>,\n  options?: boolean | AddEventListenerOptions\n) {\n  const savedHandler = useRef(handler);\n\n  console.log('Saved Handler:');\n  console.log(savedHandler);\n\n  console.log('Current:');\n  console.log(savedHandler.current);\n\n  useIsomorphicLayoutEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n\n  useEffect(() => {\n    const targetElement: T | Window = element?.current || window;\n\n    if (!(targetElement && targetElement.addEventListener)) return;\n\n    const eventListener: typeof handler = (event) =>\n      savedHandler.current(event);\n\n    targetElement.addEventListener(eventName, eventListener, options);\n\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element, options]);\n}\n"],"mappings":";;AAAA,SAAoBA,SAApB,EAA+BC,MAA/B,QAA6C,OAA7C;AACA,SAASC,yBAAT,QAA0C,6BAA1C;AA0BA,OAAO,SAASC,gBAAT,CAKLC,SALK,EAMLC,OANK,EASLC,OATK,EAULC,OAVK,EAWL;EAAA;;EACA,MAAMC,YAAY,GAAGP,MAAM,CAACI,OAAD,CAA3B;EAEAI,OAAO,CAACC,GAAR,CAAY,gBAAZ;EACAD,OAAO,CAACC,GAAR,CAAYF,YAAZ;EAEAC,OAAO,CAACC,GAAR,CAAY,UAAZ;EACAD,OAAO,CAACC,GAAR,CAAYF,YAAY,CAACG,OAAzB;EAEAT,yBAAyB,CAAC,MAAM;IAC9BM,YAAY,CAACG,OAAb,GAAuBN,OAAvB;EACD,CAFwB,EAEtB,CAACA,OAAD,CAFsB,CAAzB;EAIAL,SAAS,CAAC,MAAM;IACd,MAAMY,aAAyB,GAAG,CAAAN,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEK,OAAT,KAAoBE,MAAtD;IAEA,IAAI,EAAED,aAAa,IAAIA,aAAa,CAACE,gBAAjC,CAAJ,EAAwD;;IAExD,MAAMC,aAA6B,GAAIC,KAAD,IACpCR,YAAY,CAACG,OAAb,CAAqBK,KAArB,CADF;;IAGAJ,aAAa,CAACE,gBAAd,CAA+BV,SAA/B,EAA0CW,aAA1C,EAAyDR,OAAzD;IAEA,OAAO,MAAM;MACXK,aAAa,CAACK,mBAAd,CAAkCb,SAAlC,EAA6CW,aAA7C;IACD,CAFD;EAGD,CAbQ,EAaN,CAACX,SAAD,EAAYE,OAAZ,EAAqBC,OAArB,CAbM,CAAT;AAcD;;GAtCeJ,gB;UAoBdD,yB"},"metadata":{},"sourceType":"module"}